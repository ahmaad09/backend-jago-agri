let getConnection;_ea3‍.x([["findUserByUsername",()=>findUserByUsername],["createUser",()=>createUser],["updatePassword",()=>updatePassword],["updateUsername",()=>updateUsername]]);_ea3‍.w("../config/database.js",[["getConnection",["getConnection"],function(v){getConnection=v}]]);

       const findUserByUsername = async (username) => {
    const db = await getConnection();
    const [rows] = await db.query("SELECT * FROM users WHERE username = ?", [username]);
    return rows[0];
};

       const createUser = async (username, password) => {
    const db = await getConnection();
    const [result] = await db.query("INSERT INTO users (username, password) VALUES (?, ?)", [username, password]);
    return result;
};

       const updatePassword = async (username, password) => {
    const db = await getConnection();
    await db.query("UPDATE users SET password = ? WHERE username = ?", [password, username]);
};

       const updateUsername = async (oldUsername, newUsername) => {
    const db = await getConnection();
    await db.query("UPDATE users SET username = ? WHERE username = ?", [newUsername, oldUsername]);
};
